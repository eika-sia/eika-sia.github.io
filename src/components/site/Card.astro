---
interface Props {
  title: string;
  description: string;
  tags: string[];
  variant?: 'glass' | 'solid';
  class?: string;
  [key: string]: any; // allow arbitrary additional attributes
}
const { title, description, tags = [], variant = 'glass', class: extraClass = '', ...rest } = Astro.props as Props;

// Ultra compact outer padding (~half of original large layout) - border removed to eliminate harsh outline
const base = 'group relative rounded-none transition-all py-2.5 px-3 md:py-3 md:px-4';
// Glass style with accent-tinted border similar to CV highlight cards (exp-card) but subtler; only border + bg change on hover
const glass = 'border border-[rgba(111,99,216,0.18)] bg-[rgba(18,22,32,0.46)] backdrop-blur-md shadow-[0_10px_30px_-14px_rgba(0,0,0,0.6),0_0_0_1px_rgba(255,255,255,0.03)] hover:border-[rgba(111,99,216,0.45)] hover:bg-[rgba(22,27,39,0.62)] hover:shadow-[0_16px_44px_-12px_rgba(0,0,0,0.7),0_0_0_1px_rgba(255,255,255,0.05)]';
const solid = 'bg-[var(--panel)] hover:shadow-xl hover:shadow-[var(--accent-soft)]/10';
const wrapperClass = `${base} card ${variant === 'solid' ? solid : glass} ${extraClass}`.trim();
---
<div class={wrapperClass} {...rest}>
  <div class="card-inner p-0">
    <h3 class="font-semibold text-lg md:text-xl mb-2.5 text-slate-100 tracking-tight leading-snug">{title}</h3>
    <p class="mb-4 text-slate-300 text-[0.8rem] md:text-[0.88rem] leading-relaxed max-w-[52ch]">{description}</p>
    {tags.length > 0 && (
      <div class="mb-4 flex flex-wrap gap-1.5 tag-pill-row">
        {tags.map((tag: string) => (
          <span class="tag-pill-chip">{tag}</span>
        ))}
      </div>
    )}
    <div>
      <slot />
    </div>
  </div>
<style>
/* Local density overrides for compact cards */
.card-inner .tag-pill-chip { font-size:9px; padding:.28rem .55rem .32rem; letter-spacing:.11em; margin-right:.55rem; }
.card-inner .tag-pill-chip:last-child{ margin-right:0; }
/* Micro-interaction accent underline */
.card:hover h3 { text-shadow:0 0 6px rgba(111,99,216,0.35); }
@media (prefers-reduced-motion: no-preference) {
  .card { transition: border-color .4s, background .45s, box-shadow .45s, transform .5s; will-change:transform; }
  .card:hover { transform:translateY(-2px); }
}
</style>
</div>
