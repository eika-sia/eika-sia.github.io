---
import HistoryItem from './HistoryItem.astro';
import experienceData from '../../data/experience.json';
import interests from '../../data/interests.json';

interface ExperienceItem {
  position: string;
  organization: string;
  location: string;
  start: string;
  end: string;
  type: string;
  description: string[];
}

const work: ExperienceItem[] = experienceData as ExperienceItem[];
const researchInterests: string[] = (interests as any).research || [];
const techInterests: string[] = (interests as any).technology || [];
const creativeInterests: string[] = (interests as any).creative || [];
---

<div class="space-y-8">
  <!-- Work Experience -->
  <section aria-labelledby="work-exp" class="space-y-6">
    <h3 id="work-exp" class="text-xl font-semibold text-slate-100 mb-2 border-l-2 border-violet-500 pl-3">Work Experience</h3>
    <div class="grid gap-6 md:grid-cols-2">
      {work.map((exp: ExperienceItem) => (
        <HistoryItem
          title={exp.position}
          org={exp.organization}
          location={exp.location}
          start={exp.start}
          end={exp.end}
          type={exp.type}
          bullets={exp.description}
        />
      ))}
    </div>
  </section>

  <!-- Research & Technology Interests -->
  <section aria-labelledby="interests" class="space-y-4">
    <h3 id="interests" class="text-xl font-semibold text-slate-100 mb-2 border-l-2 border-violet-500 pl-3">Research & Technology Interests</h3>
    <div class="grid gap-6 md:grid-cols-2">
      <div class="rounded-2xl border border-[var(--accent-soft)]/15 bg-[rgba(18,22,32,0.38)] backdrop-blur-md p-6">
        <h4 class="text-[var(--accent-soft)] font-medium mb-3 text-sm tracking-wide uppercase">Neuroscience</h4>
        <ul class="text-slate-300 text-sm space-y-1">
          {researchInterests.map(item => (
            <li class="flex gap-2 items-start"><span class="text-[var(--accent-soft)] mt-1">•</span><span>{item}</span></li>
          ))}
        </ul>
      </div>
      <div class="rounded-2xl border border-[var(--accent-soft)]/15 bg-[rgba(18,22,32,0.38)] backdrop-blur-md p-6">
        <h4 class="text-[var(--accent-soft)] font-medium mb-3 text-sm tracking-wide uppercase">Technology</h4>
        <ul class="text-slate-300 text-sm space-y-1">
          {techInterests.map(item => (
            <li class="flex gap-2 items-start"><span class="text-[var(--accent-soft)] mt-1">•</span><span>{item}</span></li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <!-- Creative Interests -->
  <section aria-labelledby="creative" class="space-y-4">
    <h3 id="creative" class="text-xl font-semibold text-slate-100 mb-2 border-l-2 border-violet-500 pl-3">Creative Hobbies</h3>
    <div class="flex flex-wrap gap-3">
      {creativeInterests.map(hobby => (
        <span class="bg-slate-800/40 border border-[var(--accent-soft)]/25 text-[var(--accent-soft)] px-4 py-2 rounded-lg text-sm">{hobby}</span>
      ))}
    </div>
  </section>
</div>
