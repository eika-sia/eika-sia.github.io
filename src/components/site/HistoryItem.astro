---
interface Props {
  title: string;
  org?: string;
  location?: string;
  start: string;
  end: string;
  type?: string; // category/type tag
  bullets?: string[];
}
const { title, org, location, start, end, type, bullets = [] } = Astro.props as Props;

const typeClass = type ? (
  type === 'ongoing' ? 'bg-green-500/20 text-green-400 border border-green-500/30' :
  type === 'academic' ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30' :
  type === 'volunteer' ? 'bg-purple-500/20 text-purple-400 border border-purple-500/30' :
  'bg-violet-500/20 text-violet-400 border border-violet-500/30'
) : '';
---
<article class="education-card group relative border border-[rgba(111,99,216,0.18)] bg-[rgba(24,28,40,0.5)] backdrop-blur-md p-4 md:p-5 transition-all hover:bg-[rgba(28,34,48,0.62)] hover:border-[rgba(111,99,216,0.45)] shadow-[0_6px_20px_-10px_rgba(0,0,0,0.62),0_0_0_1px_rgba(255,255,255,0.03)] hover:shadow-[0_12px_30px_-12px_rgba(0,0,0,0.7),0_0_0_1px_rgba(255,255,255,0.05)]">
  <div class="history-inner space-y-3.5 md:space-y-4">
    <div class="flex items-start justify-between gap-5 mb-1.5">
      <div class="flex-1 min-w-0">
  <h4 class="text-base md:text-lg font-semibold text-slate-100 tracking-tight mb-0.5">{title}</h4>
  {org && <p class="text-[var(--accent-soft)] text-[0.8rem] md:text-sm mb-0.5 font-medium break-words whitespace-normal">{org}</p>}
  {(location) && <p class="text-slate-400 text-[0.7rem] md:text-[0.78rem] font-medium">{location}</p>}
      </div>
      <div class="text-right text-[0.6rem] md:text-xs text-slate-400 shrink-0 leading-tight space-y-1">
        <div class="mono">{start} – {end}</div>
        {type && (
          <span class={`inline-block px-1.5 py-0.5 rounded mono text-[0.55rem] md:text-[0.6rem] tracking-wide ${typeClass}`}>
            {type}
          </span>
        )}
      </div>
    </div>
    {bullets.length > 0 && (
    <ul class="space-y-2.5 text-slate-300 text-[0.75rem] md:text-[0.82rem] leading-relaxed">
        {bullets.map((b: string) => (
          <li class="flex gap-1.5 items-start">
            <span class="text-[var(--accent-soft)] mt-[2px]">•</span>
            <span>{b}</span>
          </li>
        ))}
      </ul>
    )}
    <slot />
  </div>
</article>
