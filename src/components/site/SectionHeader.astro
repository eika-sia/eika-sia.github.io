---
interface Props {
  title?: string;
  folder?: string;
  command?: string; // override the default shell-like prompt
  showPrompt?: boolean; // allow hiding
  variant?: 'bar' | 'pill';
  sub?: string; // subtitle / description
}
const {
  title = "",
  folder = "",
  command,
  showPrompt = true,
  variant = 'bar',
  sub = ""
} = Astro.props as Props;
// Default command semantics:
// If a folder is provided we show something akin to: `for f in $(ls ~/folder | head -n 3); do cat "$f"; done` simplified visually.
// To keep it concise we render: `head ~/folder/*` when folder present, else just a `$` prompt.
const prompt = command || (folder ? `head ~/${folder}/*` : 'echo');
---
<div class="space-y-5 mb-0 pb-4 md:pb-5">
  {showPrompt && (
    <div class="section-prompt" aria-label="section command">
      <span class="prompt-symbol accent-soft mono" style="color: var(--accent-soft) !important;">$</span>
      <span class="prompt-text mono">{prompt}</span>
    </div>
  )}
  <div class="flex flex-col gap-3">
  <h2 class={`font-extrabold leading-tight tracking-tight text-slate-100 ${variant === 'pill' ? 'text-3xl md:text-4xl inline-flex items-center gap-3' : 'text-4xl md:text-5xl pl-6 relative section-header-bar'}`}>
      {variant === 'pill' && (
  <span class="px-4 py-1.5 rounded-full bg-[var(--panel)]/70 border text-[var(--accent-soft)] text-xs mono tracking-wider uppercase" style="border-color: var(--border-color);">section</span>
      )}
      {title}
    </h2>
  {sub && <p class="text-slate-400 text-sm md:text-base max-w-2xl leading-relaxed">{sub}</p>}
    {variant === 'bar' && <div class="h-px bg-gradient-to-r from-[var(--accent-soft)]/80 via-[var(--accent-soft)]/25 to-transparent" />}
  </div>
</div>

<style>
.section-header-bar:not(.inline-flex) { position:relative; }
.section-header-bar:not(.inline-flex)::before {
  content:"";
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width:6px;
  background:var(--accent-soft);
  border-radius:0;
  box-shadow:none;
}
@media (min-width:768px){ .section-header-bar:not(.inline-flex)::before { width:7px; } }
</style>
